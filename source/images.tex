\startenvironment[images]

\environment[colors]

\startuseMPgraphic{residue}
  path U, γ;
  pair a[], label_U, label_γ, label_A, intercept;

  U := (10, 10) .. (30, 10) .. (80, 0) .. (180, 40) .. (170, 70)
    .. (160, 80) .. (30, 90) .. (20, 80) .. cycle;
  γ := (45, 35) .. (65, 30) .. (80, 25) .. (140, 20) .. (130, 60)
    .. (115, 80) .. (90, 90) .. (75, 85) .. (50, 80) .. cycle;

  a[0] := (55, 45);
  a[1] := (100, 80);
  a[2] := (70, 75);
  a[3] := (115, 20);

  label_U := (155, 70);
  label_γ := (25, 30);
  label_A := (15, 95);

  fill U withcolor "backgroundcolor";
  draw U dashed dashpattern (on 3mm off 2mm);
  draw γ;

  for k = 0 upto 3:
    drawdot a[k] withpen pencircle scaled 1mm;
    draw label_A -- a[k] withpen pencircle scaled .08mm;
  endfor

  intercept := reverse γ intersectionpoint (label_γ -- (120, 90));
  draw label_γ -- intercept withpen pencircle scaled .08mm;

  textextoffset := .4EmWidth;
  draw thetextext.lft("\m{γ}", label_γ);
  draw thetextext    ("\m{U}", label_U);
  draw thetextext.lft("\m{A}", label_A);
\stopuseMPgraphic

\stopenvironment
